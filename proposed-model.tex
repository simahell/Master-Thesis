\documentclass[12pt,a4paper]{jbook}
\input{settings}
\begin{document}
\newpage

\color{red}
\chapter{提案モデル}
この章では、\ref{sec:ProposedModel-TemporalLogic}章で述べた記述法の応用例として、キャッシュを実装したウェブセキュリティモデルを提案する。

\section{概要}
本研究は基礎モデルで包括されていないウェブの要素としてキャッシュに注目する。
\ref{sec:bcpattack}節に述べた通りキャッシュを利用する攻撃が数多く存在しており、また、キャッシュは一般的なユーザにも利用される。
したがって、キャッシュに関連した脆弱性はウェブの利用者の多くに多大な影響を与えるため、ウェブの安全性を解析する上で不可欠な要素である。
本研究では、キャッシュを包括するウェブセキュリティモデルを提案し、\ref{sec:ProposedModel-TemporalLogic}節で述べた記述法を用いて提案モデルを実装する。

\section{提案モデルの能力}
提案モデルは基礎モデルを基に作成する。
基礎モデルの内容は\ref{sec:based-model-power}節で述べており、以下に各項目ごとに基礎モデルからの提案モデルでの変更点を記述する。

\subsection{対象のシステムの構造と動作}
提案モデルでは、キャッシュの動作を包括することを目標とする。
しかし、キャッシュの動作を表現するには中継者やヘッダなど、基礎モデルで包括している項目では不足している要素がある。
したがって、提案モデルにはキャッシュの動作に加えて、その動作に使用されるキャッシュ以外の要素についても追加する。
以下に追加する要素を順に述べる。

\subsubsection{キャッシュの動作}
キャッシュはクライアント、サーバ、中継者のいずれかに属し、\ref{sec:cache}節で述べた「格納」、「再利用」、「検証」という三つの基本動作が可能である。
また、これらのキャッシュの動作はヘッダによって主に制御される。

\subsubsection{中継者}
中継者はクライアントやサーバとは異なるHTTPを構成する第三の要素であり、クライアントとサーバの通信経路上に存在する。
HTTP/1.1において、中継者は「プロキシ」、「ゲートウェイ」、「トンネル」の三種類が存在するが、これらのうちトンネルのみキャッシュを搭載しない。
したがって、キャッシュに注目する提案モデルはプロキシとゲートウェイのみを包括する。

まず、中継者は独自にリクエストやレスポンスを生成することはなく、取得したリクエストやレスポンスの回送を主に行う。
しかし、キャッシュを用いた場合にのみ、リクエストをサーバに送信しレスポンスを得ることなく、キャッシュの再利用をもってリクエストに応答することができる。
また、プロキシとゲートウェイはその通信内容の編集が可能である。

\subsubsection{HTTPヘッダ}
既存モデルに含まれるヘッダではキャッシュの動作の表現に不十分であるため、表\ref{tb:ProposedModel-Headers}に挙げるヘッダを新たに追加する。

\begin{table}[htb]
\centering
\caption{提案モデルで新たに包括するヘッダ}
\label{tb:ProposedModel-Headers}
\begin{tabular}{lll}
ヘッダ名 & 用途 & 関連するキャッシュの動作 \\ \hline
if-modified-since & 条件付きリクエストに使用 & 検証 \\
if-none-match & 条件付きリクエストに使用 & 検証 \\
etag & レスポンス内のコンテンツの固有値 & 検証 \\
last-modified & レスポンス内のコンテンツの最終更新日 & 検証 \\
age & レスポンスの経過時間 & 格納・再利用 \\
cache-control & キャッシュの動作全般を制御 & 格納・再利用・検証 \\
date & レスポンスの生成時刻 & 格納・再利用 \\
expire & レスポンスの有効期限 & 格納・再利用 \\
\end{tabular}
\end{table}

また、表\ref{tb:ProposedModel-Headers}内のcache-controlヘッダはオプションによってキャッシュの動作を指定するため、そのオプションを付加可能とする。
利用可能なオプションを表\ref{tb:CacheControlOption}に挙げる。

\begin{table}[htb]
\centering
\caption{利用可能なcache-controlヘッダのオプション}
\label{tb:CacheControlOption}
\begin{tabular}{ll}
オプション名 & 用途 \\ \hline
max-age & レスポンスの有効期限を設定 \\
smax-age & 共有キャッシュでの有効期限を設定（その他の設定より優先） \\
no-cache & 検証無しに再利用できない \\
no-store & そのレスポンスを格納を禁止 \\
no-transform & コンテンツの編集を禁止 \\
max-stale & 期限切れである場合に許容できる時間 \\
min-fresh & 有効期限まで最低残り時間 \\
only-if-cached & キャッシュの再利用でのみ応答 \\
must-revalidate & 有効期限切れである場合、検証無しに再利用できない \\
proxy-revalidate & must-revalidateと同じ（個人キャッシュ以外で有効） \\
public & 共有キャッシュに格納してよい \\
private & 個人キャッシュに格納してよい \\
\end{tabular}
\end{table}

\subsection{脅威モデル}


\subsection{安全性要件}


\section{キャッシュの実装}
\section{中継者の実装}
\section{提案モデルの制限事項}
\color{black}

\end{document}
